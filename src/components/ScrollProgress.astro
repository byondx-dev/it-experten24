---
---

<div class="scroll-progress" role="presentation" aria-hidden="true">
  <div class="scroll-progress__bar" data-scroll-bar />
</div>

<style>
  .scroll-progress {
    position: fixed;
    inset: 0 0 auto 0;
    height: 6px;
    background: transparent;
    z-index: 60;
    pointer-events: none;
  }

  .scroll-progress__bar {
    width: 0%;
    height: 100%;
    background: linear-gradient(90deg, #1D4ED8, #F97316);
    transition: width 80ms linear;
  }

  @media (max-width: 768px) {
    .scroll-progress {
      height: 4px;
    }
  }
</style>

<script>
  const root = document.currentScript?.parentElement;
  const bar = root?.querySelector("[data-scroll-bar]");

  const update = () => {
    if (!bar) return;
    const scrollTop = window.scrollY;
    const docHeight = document.body.scrollHeight - window.innerHeight;
    const progress = docHeight > 0 ? Math.min(scrollTop / docHeight, 1) : 0;
  };

  if (bar) {
    update();
    window.addEventListener("scroll", update, { passive: true });
    window.addEventListener("resize", update, { passive: true });
  }
</script>
