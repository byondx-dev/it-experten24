---
import BaseLayout from "@layouts/BaseLayout.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import { services, serviceCategories } from "@data/services";

const category = serviceCategories.find((item) => item.id === "Service");
if (!category) {
  throw new Error("Service category metadata is missing.");
}

const categoryServices = services.filter((item) => item.category === "Service");
---

<BaseLayout
  title={category.pageTitle}
  description={category.pageDescription}
  canonical={`https://www.it-experten24.de${category.href}`}
>
  <Header />
  <main class="bg-background py-16">
    <section class="mx-auto w-full max-w-5xl px-6">
      <span class="badge">{category.title}</span>
      <h1 class="mt-6 text-4xl font-semibold text-text">{category.heading}</h1>
      <p class="mt-4 text-lg text-text/70">
        {category.intro}
      </p>
      <div class="mt-10 grid gap-6 md:grid-cols-2">
        {categoryServices.map((service) => (
          <article class="card h-full">
            <h2 class="text-lg font-semibold text-text">{service.title}</h2>
            <p class="mt-3 text-sm text-text/70">{service.description}</p>
            <a href={service.href} class="mt-6 inline-flex items-center gap-2 text-sm font-medium text-brand-primary hover:text-brand-accent">
              Mehr erfahren
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-4 w-4 fill-none stroke-current" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M5 12h14" />
                <path d="m12 5 7 7-7 7" />
              </svg>
            </a>
          </article>
        ))}
      </div>
      <div class="mt-12 flex flex-wrap gap-4">
        <a href="/kontakt" class="btn-primary">Termin vereinbaren</a>
        <a href="tel:+4915733135928" class="btn-secondary">Direkt anrufen: +49 157 3313 5928</a>
      </div>
    </section>
  </main>
  <Footer />
</BaseLayout>
